{"ast":null,"code":"import _classCallCheck from \"/Users/tonyl/eclipse-workspace/consuming-restful-api-in-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tonyl/eclipse-workspace/consuming-restful-api-in-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tonyl/eclipse-workspace/consuming-restful-api-in-react/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tonyl/eclipse-workspace/consuming-restful-api-in-react/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tonyl/eclipse-workspace/consuming-restful-api-in-react/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/tonyl/eclipse-workspace/consuming-restful-api-in-react/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/tonyl/eclipse-workspace/consuming-restful-api-in-react/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Container, Button, Alert } from 'react-bootstrap';\nimport ProductList from './ProductList';\nimport AddProduct from './AddProduct';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.editProduct = function (productId) {\n      var apiUrl = 'http://localhost/dev/tcxapp/reactapi/getProduct';\n      var formData = new FormData();\n      formData.append('productId', productId);\n      var options = {\n        method: 'POST',\n        body: formData\n      };\n      fetch(apiUrl, options).then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        _this.setState({\n          product: result,\n          isEditProduct: true,\n          isAddProduct: true\n        });\n      }, function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n    };\n\n    _this.state = {\n      isAddProduct: false,\n      error: null,\n      response: {},\n      product: {},\n      isEditProduct: false\n    };\n    _this.onFormSubmit = _this.onFormSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"onCreate\",\n    value: function onCreate() {\n      this.setState({\n        isAddProduct: true\n      });\n    }\n  }, {\n    key: \"onFormSubmit\",\n    value: function onFormSubmit(data) {\n      var _this2 = this;\n\n      var apiUrl;\n\n      if (this.state.isEditProduct) {\n        apiUrl = 'http://localhost/dev/tcxapp/reactapi/editProduct';\n      } else {\n        apiUrl = 'http://localhost/dev/tcxapp/reactapi/createProduct';\n      }\n\n      var myHeaders = new Headers();\n      myHeaders.append('Content-Type', 'application/json');\n      var options = {\n        method: 'POST',\n        body: JSON.stringify(data),\n        myHeaders: myHeaders\n      };\n      fetch(apiUrl, options).then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        _this2.setState({\n          response: result,\n          isAddProduct: false,\n          isEditProduct: false\n        });\n      }, function (error) {\n        _this2.setState({\n          error: error\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var productForm;\n\n      if (this.state.isAddProduct || this.state.isEditProduct) {\n        productForm = React.createElement(AddProduct, {\n          onFormSubmit: this.onFormSubmit,\n          product: this.state.product,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        style: {\n          textAlign: 'center'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"SBI wirtten test\"), !this.state.isAddProduct && React.createElement(Button, {\n        variant: \"primary\",\n        onClick: function onClick() {\n          return _this3.onCreate();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Add Product\"), this.state.response.status === 'success' && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }), React.createElement(Alert, {\n        variant: \"info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, this.state.response.message)), !this.state.isAddProduct && React.createElement(ProductList, {\n        editProduct: this.editProduct,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), productForm, this.state.error && React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"Error: \", this.state.error.message)));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/tonyl/eclipse-workspace/consuming-restful-api-in-react/src/App.js"],"names":["React","Component","Container","Button","Alert","ProductList","AddProduct","App","props","editProduct","productId","apiUrl","formData","FormData","append","options","method","body","fetch","then","res","json","result","setState","product","isEditProduct","isAddProduct","error","state","response","onFormSubmit","bind","data","myHeaders","Headers","JSON","stringify","productForm","textAlign","onCreate","status","message"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport './App.css';\nimport { Container, Button, Alert } from 'react-bootstrap';\nimport ProductList from './ProductList';\nimport AddProduct from './AddProduct';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isAddProduct: false,\n      error: null,\n      response: {},\n      product: {},\n      isEditProduct: false\n    }\n    this.onFormSubmit = this.onFormSubmit.bind(this);\n  }\n\n  onCreate() {\n    this.setState({ isAddProduct: true });\n  }\n\n  onFormSubmit(data) {\n    let apiUrl;\n\n    if(this.state.isEditProduct){\n      apiUrl = 'http://localhost/dev/tcxapp/reactapi/editProduct';\n    } else {\n      apiUrl = 'http://localhost/dev/tcxapp/reactapi/createProduct';\n    }\n\n    const myHeaders = new Headers();\n    myHeaders.append('Content-Type', 'application/json');\n\n    const options = {\n      method: 'POST',\n      body: JSON.stringify(data),\n      myHeaders\n    };\n\n    fetch(apiUrl, options)\n      .then(res => res.json())\n      .then(result => {\n        this.setState({\n          response: result,\n          isAddProduct: false,\n          isEditProduct: false\n        })\n      },\n      (error) => {\n        this.setState({ error });\n      }\n    )\n  }\n\n  editProduct = productId => {\n\n    const apiUrl = 'http://localhost/dev/tcxapp/reactapi/getProduct';\n    const formData = new FormData();\n    formData.append('productId', productId);\n\n    const options = {\n      method: 'POST',\n      body: formData\n    }\n\n    fetch(apiUrl, options)\n      .then(res => res.json())\n      .then(\n        (result) => {\n          this.setState({\n            product: result,\n            isEditProduct: true,\n            isAddProduct: true\n          });\n        },\n        (error) => {\n          this.setState({ error });\n        }\n      )\n  }\n\n  render() {\n\n    let productForm;\n    if(this.state.isAddProduct || this.state.isEditProduct) {\n      productForm = <AddProduct onFormSubmit={this.onFormSubmit} product={this.state.product} />\n    }\n\n    return (\n      <div className=\"App\">\n        <Container>\n          <h1 style={{textAlign:'center'}}>SBI wirtten test</h1>\n          {!this.state.isAddProduct && <Button variant=\"primary\" onClick={() => this.onCreate()}>Add Product</Button>}\n          {this.state.response.status === 'success' && <div><br /><Alert variant=\"info\">{this.state.response.message}</Alert></div>}\n          {!this.state.isAddProduct && <ProductList editProduct={this.editProduct}/>}\n          { productForm }\n          {this.state.error && <div>Error: {this.state.error.message}</div>}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}